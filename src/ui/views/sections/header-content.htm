<!--
    Copyright (c) 2016 VMware, Inc. All Rights Reserved.
    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at
        
        http://www.apache.org/licenses/LICENSE-2.0
        
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<nav class="navbar navbar-default navbar-custom" ng-controller="HeaderController as vm">
  <modal-dialog modal-title="// vm.modalTitle //" modal-message="// vm.modalMessage //" confirm-only="vm.confirmOnly" action="vm.action()" content-type="// vm.contentType //"></modal-dialog>
  <div class="container container-custom">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-harbor-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="//vm.defaultUrl//"><img class="img-responsive" src="/static/resources/img/Harbor_Logo_rec.png" alt="Harbor's Logo"/></a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-harbor-navbar-collapse-1">
	    <optional-menu version="{{.Version}}" language="{{.Lang}}" show-download-cert="{{.ShowDownloadCert}}"  login-status="//vm.loginStatus//"></optional-menu>     
	    <ul class="nav navbar-nav navbar-right">
		    <li>
		      <navigation-header></navigation-header>
		    </li>
	      <li>
	        <search-input search-input='vm.searchInput'></search-input>
		    </li>
	    </ul>

		<a role="button" class="btn btn-link ng-binding" style="color:white; text-decoration:none;" data-toggle="modal" data-target="#rootCertModal">
			  <span class="glyphicon glyphicon-certificate"></span>&nbsp;&nbsp;根证书
		</a>
		<!-- 模态框（Modal） -->
		<div class="modal fade" id="rootCertModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
							&times;
						</button>
						<h4 class="modal-title" id="myModalLabel">
							镜像中心根证书
						</h4>
					</div>
					<div class="modal-body">
						<div>使用说明</div>
						<ul>
							<li>docker 1.12+版本：下载证书到docker所在服务器的/etc/docker/certs.d/docker.hscloud.cn目录下（目录不存在请手动创建）</li>
							<li>docker 1.11及以下版本：docker daemon增加启动参数--tlscacert=/path/ca.crt，然后重启docker daemon</li>
						</ul>
						<div>点击<a href="/api/systeminfo/getcert">这里</a>下载证书</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭
						</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal -->
		</div>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
